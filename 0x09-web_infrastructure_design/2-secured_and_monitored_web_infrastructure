# 2. Secured and Monitored Web Infrastructure

## Diagram

![Secured and Monitored Web Infrastructure](./secured_and_monitored_web_infrastructure.jpg)

## Components and Reasons for Adding Them

1. **3 Monitoring Clients**

- Purpose: To collect and report performance data (like CPU and memory usage) from each server, helping to maintain system health.

2. **SSL Certificate (HTTPS)**

- Purpose: To encrypt data moving between the user and the load balancer, protecting sensitive information.

3. **3 Firewalls**

- Purpose: To block unauthorized access and ensure only valid traffic reaches the load balancer and application servers.

---

## Specific Explanations

- **Monitoring**: Tools are used to collect performance metrics and logs from servers, which helps in detecting issues early and ensuring system health. This allows for proactive alerts when performance thresholds are exceeded.

- **Firewalls**: These are security systems that filter network traffic based on rules, blocking unauthorized access.

- **HTTPS**: This protocol uses an SSL certificate to encrypt communication between the user and the server, protecting against "man-in-the-middle" attacks and securing sensitive data.

- **Data Collection**: Monitoring clients installed on each server gather metrics like CPU and memory usage, sending them to a central service for analysis.

- **Tracking QPS**: To monitor Queries Per Second, a monitoring agent is configured to track incoming HTTP requests using logs or Nginx's status module.
---

## Issues with this Infrastructure

1. **SSL Termination at the Load Balancer:**
   - Traffic between the load balancer and backend servers isnâ€™t encrypted, which is a risk in insecure networks.
2. **Single Write-Enabled MySQL Server:**
   - If the primary server fails, the system loses write capability until failover is performed.
3. **Servers with All Components Installed:**
   - If one server is compromised, all layers of the stack (database, application, web server) are exposed.

1. **Single Write-Enabled MySQL Server**: The single primary database is a single point of failure for all write operations.

2. **SSL Termination at the Load Balancer**: Traffic between the load balancer and the backend servers is not encrypted, which is a security risk.

3. **Servers with All Components Installed**: A security compromise on one server could expose all layers of the stack on that machine.

